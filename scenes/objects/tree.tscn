[gd_scene format=3 uid="uid://c88haoy7r36gd"]

[ext_resource type="PackedScene" uid="uid://ggjnmg3g6amu" path="res://assets/glb/tree/tree.glb" id="1_avsvi"]
[ext_resource type="Shader" uid="uid://dks2omfg6nqr" path="res://resources/shaders/unshaded.gdshader" id="2_7yu6v"]
[ext_resource type="Shader" uid="uid://b8s16p7wxfntc" path="res://resources/shaders/leaves.gdshader" id="2_vplca"]
[ext_resource type="Texture2D" uid="uid://ckucn6h3wu6h1" path="res://assets/glb/tree/tree_trunk_albedo.png" id="3_mbbxw"]
[ext_resource type="Texture2D" uid="uid://c4iqxcr1w7tqf" path="res://assets/glb/tree/tree_leaves_albedo-leaves_alpha.png" id="3_viusy"]
[ext_resource type="Shader" uid="uid://36iqj5wf0225" path="res://resources/shaders/grass.gdshader" id="6_lg7fn"]
[ext_resource type="Texture2D" uid="uid://chiafvhfqg7eo" path="res://assets/blend/tree/textures/leaves_albedo.png" id="7_03oh1"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mbbxw"]
render_priority = 0
shader = ExtResource("2_7yu6v")
shader_parameter/model_texture = ExtResource("3_mbbxw")
shader_parameter/albedo_color = Color(0.8039216, 0.8039216, 0.8039216, 1)
shader_parameter/shadow_opacity = 0.350000016625
shader_parameter/blend_mode = 0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_viusy"]
render_priority = 0
shader = ExtResource("2_vplca")
shader_parameter/alpha_scissor_threshold = 0.4
shader_parameter/specular = 0.4
shader_parameter/roughness = 0.85
shader_parameter/face_tint = 0.2
shader_parameter/Leaf_Texture = ExtResource("3_viusy")
shader_parameter/Leaf_UV_Scale = Vector2(1, 1)
shader_parameter/Leaf_Tint_Base = Color(0, 0, 0, 1)
shader_parameter/Leaf_Tint_Highlight = Color(1, 1, 0, 1)
shader_parameter/Leaf_Tint_Str = 0.03999999910592
shader_parameter/Texture_As_Brightness = true
shader_parameter/Brightness = 8.0
shader_parameter/Leaf_Emmisive_Color = Color(0, 0, 0, 1)
shader_parameter/Leaf_Emissive_Str = 0.0
shader_parameter/Trunk_UV_Scale = Vector2(1, 1)
shader_parameter/Trunk_Tint = Color(0, 0, 0, 1)
shader_parameter/Trunk_Tint_Str = 0.0
shader_parameter/F_Texture_As_Brightness = true
shader_parameter/F_Brightness = 8.0
shader_parameter/frost_amount = 0.0
shader_parameter/frost_fade = 1.0
shader_parameter/Frost_Color = Color(1, 1, 1, 1)
shader_parameter/Wind_Enable = true
shader_parameter/wind_color_shift = Color(0, 0, 0, 1)
shader_parameter/wind_color_strength = 0.0
shader_parameter/wind_strength = 0.02999999932944
shader_parameter/wind_direction_rads = 0.0
shader_parameter/sway_multiplier = 2.0
shader_parameter/jitter_multiplier = 2.0
shader_parameter/deform_multiplier = 2.0
shader_parameter/bend_multiplier = 2.0

[sub_resource type="CylinderShape3D" id="CylinderShape3D_viusy"]
radius = 0.10058594

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_mbbxw"]
emission_shape = 6
emission_ring_axis = Vector3(0, 0, 1)
emission_ring_height = 1.0
emission_ring_radius = 1.0
emission_ring_inner_radius = 0.0
emission_ring_cone_angle = 90.0
gravity = Vector3(0, -0.1, 0)
tangential_accel_min = -1.0000023
tangential_accel_max = 0.99999774
scale_min = 0.79999995
scale_max = 1.1999999

[sub_resource type="Gradient" id="Gradient_03oh1"]
colors = PackedColorArray(0, 0, 0, 1, 0.5058824, 0.6431373, 0.16470589, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_0v8c2"]
gradient = SubResource("Gradient_03oh1")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_03oh1"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_0v8c2"]
noise = SubResource("FastNoiseLite_03oh1")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lg7fn"]
render_priority = 0
shader = ExtResource("6_lg7fn")
shader_parameter/billboard = true
shader_parameter/shape_texture = ExtResource("7_03oh1")
shader_parameter/use_atlas = false
shader_parameter/noise_texture = SubResource("NoiseTexture2D_0v8c2")
shader_parameter/color_gradient = SubResource("GradientTexture1D_0v8c2")
shader_parameter/random_variation = 1.0
shader_parameter/wind_velocity = Vector2(0.27, 0.23)
shader_parameter/alpha_cut_start = 0.1
shader_parameter/alpha_cut_end = 0.9
shader_parameter/alpha_mode = 0

[sub_resource type="QuadMesh" id="QuadMesh_03oh1"]
material = SubResource("ShaderMaterial_lg7fn")
size = Vector2(0.125, 0.125)

[node name="tree" unique_id=410041884 instance=ExtResource("1_avsvi")]

[node name="Trunk" parent="." index="0" unique_id=819337516]
surface_material_override/0 = SubResource("ShaderMaterial_mbbxw")

[node name="Leaves" parent="." index="1" unique_id=291689958]
surface_material_override/0 = SubResource("ShaderMaterial_viusy")

[node name="Collision" type="StaticBody3D" parent="." index="2" unique_id=1019812995]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Collision" index="0" unique_id=517662623]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CylinderShape3D_viusy")

[node name="LeavesFalling" type="GPUParticles3D" parent="." index="3" unique_id=1656427519]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)
amount = 3
lifetime = 15.0
preprocess = 5.0
randomness = 1.0
process_material = SubResource("ParticleProcessMaterial_mbbxw")
draw_pass_1 = SubResource("QuadMesh_03oh1")
